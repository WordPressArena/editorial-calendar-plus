var editorial_calendar_plus={NO_DATE:"00000000",weeksPref:3,statusPref:!0,authorPref:!1,timePref:!0,doFeedbackPref:!0,isMoving:!1,inDrag:!1,isDragScrolling:!1,internalDateFormat:"ddMMyyyy",position:null,firstDayOfMonth:null,firstDayOfNextMonth:null,wp_dateFormat:"yyyy-MM-dd",cacheDates:[],tID:null,steps:0,CONCURRENCY_ERROR:4,PERMISSION_ERROR:5,NONCE_ERROR:6,currentDirection:!0,_wDate:Date.today(),moveDate:null,startOfWeek:null,posts:[],windowHeight:0,ltr:"ltr",isDraftsDrawerVisible:!1,init:function(){if(0!==jQuery("#editorial_calendar_plus_scrollable").length){editorial_calendar_plus.addFeedbackSection();
"true"===jQuery.cookie("editorial_calendar_plus_drafts_drawer")&&(editorial_calendar_plus.isDraftsDrawerVisible=!0,editorial_calendar_plus.setDraftsDrawerVisible(editorial_calendar_plus.isDraftsDrawerVisible));jQuery("#loading").hide();jQuery("#editorial_calendar_plus_scrollable").css("height",editorial_calendar_plus.getCalHeight()+"px");editorial_calendar_plus.windowHeight=jQuery(window).height();editorial_calendar_plus.createDaysHeader();jQuery("#editorial_calendar_plus_scrollable").scrollable({vertical:!0,size:editorial_calendar_plus.weeksPref,keyboard:!1,keyboardSteps:1,speed:100,easing:"linear"});var a=jQuery("#editorial_calendar_plus_scrollable").scrollable();a.getConf().keyboard=!1;var b=
jQuery.cookie("editorial_calendar_plus_date");b?(b=Date.parseExact(b,"yyyy-dd-MM"),editorial_calendar_plus.output("Resetting to date from the editorial_calendar_plus_Date cookie: "+b)):b=Date.today();editorial_calendar_plus.moveTo(b.clone());jQuery("#editorial_calendar_plus_scrollable").bind("mousewheel",function(a,b){var e=0<b?!1:!0,f=Math.abs(b);editorial_calendar_plus.output(e+" at a velocity of "+f);!editorial_calendar_plus.isMoving&&.2<f&&editorial_calendar_plus.move(1,e);return!1});a.onBeforeSeek(function(a,b){return!1});jQuery(document).bind("keydown",function(a){if(27===a.keyCode)return!1;if(!jQuery("#editorial_calendar_plus_quickedit").is(":visible"))if(40!==
a.keyCode||a.altKey||a.ctrlKey)if(38!==a.keyCode||a.altKey||a.ctrlKey){if(34===a.keyCode&&!a.altKey&&!a.ctrlKey||40===a.keyCode&&a.ctrlKey)return editorial_calendar_plus.move(editorial_calendar_plus.weeksPref,!0),!1;if(33===a.keyCode&&!a.altKey&&!a.ctrlKey||38===a.keyCode&&a.ctrlKey)return editorial_calendar_plus.move(editorial_calendar_plus.weeksPref,!1),!1}else return editorial_calendar_plus.move(1,!1),!1;else return editorial_calendar_plus.move(1,!0),!1});editorial_calendar_plus.getPosts(editorial_calendar_plus.nextStartOfWeek(b).add(-3).weeks(),editorial_calendar_plus.nextStartOfWeek(b).add(editorial_calendar_plus.weeksPref+3).weeks());jQuery("#moveToToday").click(function(){editorial_calendar_plus.moveTo(Date.today());
editorial_calendar_plus.getPosts(editorial_calendar_plus.nextStartOfWeek(Date.today()).add(-3).weeks(),editorial_calendar_plus.nextStartOfWeek(Date.today()).add(editorial_calendar_plus.weeksPref+3).weeks());return!1});jQuery("#moveToLast").click(function(){if("-1"!==editorial_calendar_plus.lastPostDate){var a=Date.parseExact(editorial_calendar_plus.lastPostDate,"ddMMyyyy");editorial_calendar_plus.moveTo(a);editorial_calendar_plus.getPosts(editorial_calendar_plus.nextStartOfWeek(a).add(-3).weeks(),editorial_calendar_plus.nextStartOfWeek(a).add(editorial_calendar_plus.weeksPref+3).weeks());return!1}});jQuery("#prevmonth").click(function(){editorial_calendar_plus.move(editorial_calendar_plus.weeksPref,!1);return!1});jQuery("#nextmonth").click(function(){editorial_calendar_plus.move(editorial_calendar_plus.weeksPref,
!0);return!1});jQuery("#newPostScheduleButton").on("click",function(a){if(jQuery(this).hasClass("disabled"))return!1;jQuery(this).addClass("disabled");return editorial_calendar_plus.savePost(null,!1,!0)});jQuery("#editorial_calendar_plus-title-new-field").bind("keyup",function(a){0<jQuery("#editorial_calendar_plus-title-new-field").val().length&&(!jQuery("#editorial_calendar_plus-time").is(":visible")||0<jQuery("#editorial_calendar_plus-time").val().length)?jQuery("#newPostScheduleButton").removeClass("disabled"):jQuery("#newPostScheduleButton").addClass("disabled");if(13===a.keyCode)return editorial_calendar_plus.savePost(null,
!0)});jQuery("#editorial_calendar_plus-status").bind("change",function(a){editorial_calendar_plus.updatePublishButton()});jQuery("#editorial_calendar_plus_weeks_pref").on("keyup",function(a){0<jQuery("#editorial_calendar_plus_weeks_pref").val().length?jQuery("#editorial_calendar_plus_applyoptions").removeClass("disabled"):jQuery("#editorial_calendar_plus_applyoptions").addClass("disabled");13===a.keyCode&&editorial_calendar_plus.saveOptions()});editorial_calendar_plus.savePosition();editorial_calendar_plus.addOptionsSection();jQuery("#editorial_calendar_plus-time").timePicker({show24Hours:"H:i"===editorial_calendar_plus.timeFormat,separator:":",step:30});jQuery("#showdraftsdrawer").click(function(){editorial_calendar_plus.setDraftsDrawerVisible(!editorial_calendar_plus.isDraftsDrawerVisible)})}},
setDraftsDrawerVisible:function(a,b){var c=jQuery("#showdraftsdrawer");c.hasClass("isLoaded")?b&&b():(c.addClass("isLoaded"),editorial_calendar_plus.setupDraftsdrawer(b));a?(jQuery("#cal_cont").css({"margin-right":"13.5%"}),jQuery("#draftsdrawer_cont").css({display:"block",width:"13%"}),c.html(editorial_calendar_plus.str_hidedrafts)):(jQuery("#cal_cont").css({"margin-right":"0"}),jQuery("#draftsdrawer_cont").css({display:"none",width:"0"}),c.html(editorial_calendar_plus.str_showdrafts));editorial_calendar_plus.isDraftsDrawerVisible=a;jQuery.cookie("editorial_calendar_plus_drafts_drawer",
a,{expires:2060})},setupDraftsdrawer:function(a){jQuery("#draftsdrawer_loading").css({display:"block"});editorial_calendar_plus.getPosts(editorial_calendar_plus.NO_DATE,null,function(){editorial_calendar_plus.initDraftsdrawer();a&&a()})},initDraftsdrawer:function(){var a;a=""+('<a href="#" adddate="'+editorial_calendar_plus.NO_DATE+'" class="daynewlink" style="margin-top: 5px;"title="'+editorial_calendar_plus.str_newdraft+'" id="unscheduledNewLink" onclick="editorial_calendar_plus.addDraft(); return false;">'+editorial_calendar_plus.str_addDraftLink+"</a>");a=a+'<ul class="postlist">'+editorial_calendar_plus.getPostItems(editorial_calendar_plus.NO_DATE);a+=
"</ul>";editorial_calendar_plus.draggablePost("#row"+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+" li.post");editorial_calendar_plus.makeDroppable(jQuery("#draftsdrawer div.day"));jQuery("#unscheduled").append(a);jQuery("#draftsdrawer_loading").css({display:"none"});a=jQuery("#cal_cont");jQuery("#unscheduled ul.postlist").css("min-height",a.height()-10-jQuery("#draftsdrawer .draftsdrawerheadcont").height()-jQuery("#unscheduledNewLink").outerHeight());jQuery("#unscheduled").mouseout(function(){jQuery("#unscheduledNewLink").hide()}).mouseover(function(){jQuery("#unscheduledNewLink").show()})},
alignGrid:function(a,b,c,d,e){if("draftsdrawer"!==jQuery(a).parent().attr("id")){var f=0,g=0,k=1;jQuery(a).each(function(){jQuery(this).css("position","relative");var a=jQuery(this).children("div");if(1===b||"ltr"===editorial_calendar_plus.ltr)for(var l=0;l<a.length;l++)a.eq(l).css({width:c+"%",height:d+"%",position:"absolute",left:f+"%",top:g+"%"}),0===k%b?(f=0,g+=d+e):f+=c+e,k++;else for(l=a.length-1;-1<l;l--)a.eq(l).css({width:c+"%",height:d+"%",position:"absolute",left:f+"%",top:g+"%"}),0===k%b?(f=0,g+=d+e):f+=
c+e,k++})}},alignCal:function(){editorial_calendar_plus.alignGrid("#cal",1,100,100/editorial_calendar_plus.weeksPref-1,1)},createDaysHeader:function(){var a=Date.today().next().sunday();editorial_calendar_plus.nextStartOfWeek(a);var b='<div class="dayheadcont"><div class="dayhead firstday">'+a.add(editorial_calendar_plus.startOfWeek).days().toString("dddd")+"</div>",b=b+('<div class="dayhead">'+a.add(1).days().toString("dddd")+"</div>"),b=b+('<div class="dayhead">'+a.add(1).days().toString("dddd")+"</div>"),b=b+('<div class="dayhead">'+a.add(1).days().toString("dddd")+
"</div>"),b=b+('<div class="dayhead">'+a.add(1).days().toString("dddd")+"</div>"),b=b+('<div class="dayhead">'+a.add(1).days().toString("dddd")+"</div>"),b=b+('<div class="dayhead lastday">'+a.add(1).days().toString("dddd")+"</div>");jQuery("#cal_cont").prepend(b);editorial_calendar_plus.alignGrid(".dayheadcont",7,13.8,100,.5)},getDateClass:function(a){var b,c;c=-1===a.compareTo(Date.today())?"beforeToday":"todayAndAfter";editorial_calendar_plus.firstDayOfMonth||(editorial_calendar_plus.firstDayOfMonth=Date.today().moveToFirstDayOfMonth().clearTime(),
editorial_calendar_plus.firstDayOfNextMonth=Date.today().moveToLastDayOfMonth().clearTime());a.between(editorial_calendar_plus.firstDayOfMonth,editorial_calendar_plus.firstDayOfNextMonth)?b="month-present":1===a.compareTo(editorial_calendar_plus.firstDayOfMonth)?b="month-future":-1===a.compareTo(editorial_calendar_plus.firstDayOfNextMonth)&&(b="month-past");"01"===a.toString("dd")&&(c+=" firstOfMonth");return b+" "+c},showAddPostLink:function(a){editorial_calendar_plus.inDrag||(a=jQuery("#"+a+" a.daynewlink"),a.css("display","block"),a.bind("click",editorial_calendar_plus.addPost))},hideAddPostLink:function(a){jQuery("#"+
a+" a.daynewlink").hide().unbind("click",editorial_calendar_plus.addPost)},createRow:function(a,b){for(var c=editorial_calendar_plus._wDate.clone(),d='<div class="rowcont" id="row'+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+'"><div id="row'+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+'row" class="editorial_calendar_plus_row">',e=0;7>e;e++)d+="<div onmouseover=\"editorial_calendar_plus.showAddPostLink('"+c.toString(editorial_calendar_plus.internalDateFormat)+"');\" onmouseout=\"editorial_calendar_plus.hideAddPostLink('"+c.toString(editorial_calendar_plus.internalDateFormat)+'\');" id="'+c.toString(editorial_calendar_plus.internalDateFormat)+
'" class="day '+editorial_calendar_plus.getDateClass(c)+" "+c.toString("dddd").toLowerCase()+" month-"+c.toString("MM").toLowerCase()+'">',d+='<div class="dayobj">',d+='<a href="#" adddate="'+c.toString("MMMM d")+'" class="daynewlink" title="'+sprintf(editorial_calendar_plus.str_newpost,editorial_calendar_plus.chineseAposWorkaround(c.toString(Date.CultureInfo.formatPatterns.monthDay)))+'" onclick="return false;">'+editorial_calendar_plus.str_addPostLink+"</a>",d="01"===c.toString("dd")?d+('<div class="daylabel">'+c.toString("MMM d")):d+('<div class="daylabel">'+c.toString("d")),
d+="</div>",d+='<ul class="postlist">',d+=editorial_calendar_plus.getPostItems(c.toString(editorial_calendar_plus.internalDateFormat)),d+="</ul>",d+="</div>",d+="</div>",c.add(1).days();d+="</div></div>";b?a.append(d):a.prepend(d);editorial_calendar_plus.alignGrid("#row"+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+"row",7,13.9,100,.5);editorial_calendar_plus.draggablePost("#row"+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+" li.post");editorial_calendar_plus.makeDroppable(jQuery("#row"+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat)+" > div > div.day"));return jQuery("row"+editorial_calendar_plus._wDate.toString(editorial_calendar_plus.internalDateFormat))},
makeDroppable:function(a){a.droppable({hoverClass:"day-active",accept:function(a){return jQuery(this).hasClass("beforeToday")?a.hasClass("draft")?!0:!1:!0},greedy:!0,tolerance:"pointer",drop:function(a,c){var d=c.draggable.parent().parent().parent().attr("id");editorial_calendar_plus.doDrop(d,c.draggable.attr("id"),jQuery(this).attr("id"))}})},doDrop:function(a,b,c,d){var e=editorial_calendar_plus.findPostForId(a,b);editorial_calendar_plus.removePostFromMap(a,b);var f=jQuery("#"+b);f.detach();setTimeout(function(){f.remove()},500);jQuery("#"+c+" .postlist").append(editorial_calendar_plus.createPostItem(e,
c));a===c?editorial_calendar_plus.draggablePost("#"+c+" .post"):editorial_calendar_plus.changeDate(c,e,d)},draggablePost:function(a){jQuery(a).each(function(){var a=editorial_calendar_plus.findPostForId(jQuery(this).parent().parent().parent().attr("id"),jQuery(this).attr("id"));editorial_calendar_plus.isPostMovable(a)&&(jQuery(this).draggable({revert:"invalid",appendTo:"body",helper:"clone",distance:1,addClasses:!1,start:function(){editorial_calendar_plus.inDrag=!0},stop:function(){editorial_calendar_plus.inDrag=!1},drag:function(a,b){editorial_calendar_plus.handleDrag(a,b)},scroll:!1,refreshPositions:!0}),jQuery(this).addClass("draggable"))})},
handleDrag:function(a,b){editorial_calendar_plus.isMoving||editorial_calendar_plus.isDragScrolling||(editorial_calendar_plus.isDragScrolling=!0,a.pageY<editorial_calendar_plus.position.top+10?editorial_calendar_plus.move(1,!1):a.pageY>editorial_calendar_plus.position.bottom-10&&editorial_calendar_plus.move(1,!0),setTimeout(function(){editorial_calendar_plus.isDragScrolling=!1},300))},removePostFromMap:function(a,b){if(editorial_calendar_plus.posts[a])for(var c=0;c<editorial_calendar_plus.posts[a].length;c++)if(editorial_calendar_plus.posts[a][c]&&"post-"+editorial_calendar_plus.posts[a][c].id===b)return editorial_calendar_plus.posts[a][c]=null,!0;return!1},addPostItem:function(a,b){jQuery("#"+b+" > div > ul").append(editorial_calendar_plus.createPostItem(a,
b))},addPostItemDragAndToolltip:function(a){editorial_calendar_plus.draggablePost("#"+a+" > div > ul > li")},deletePost:function(a,b){var c=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_deletepost&postid="+a;jQuery.ajax({url:c,type:"POST",processData:!1,timeout:1E5,dataType:"json",success:function(a){a.post.date_gmt===editorial_calendar_plus.NO_DATE?editorial_calendar_plus.removePostItem(a.post.date_gmt,"post-"+a.post.id):editorial_calendar_plus.removePostItem(a.post.date,"post-"+a.post.id);a.error?a.error===editorial_calendar_plus.NONCE_ERROR&&editorial_calendar_plus.showError(editorial_calendar_plus.checksum_error):editorial_calendar_plus.output('Finished deleting the post: "'+
a.post.title+'" with id:'+a.post.id);b&&b(a)},error:function(a){editorial_calendar_plus.showError(editorial_calendar_plus.general_error);a.responseText&&editorial_calendar_plus.output("deletePost xhr.responseText: "+a.responseText)}})},confirmDelete:function(a){return confirm(editorial_calendar_plus.str_del_msg1+a+editorial_calendar_plus.str_del_msg2)?!0:!1},ajax_url:function(){return ajaxurl+"?_wpnonce="+editorial_calendar_plus.wp_nonce},getMediaBar:function(){return jQuery("#cal_mediabar").html()},addPost:function(){jQuery("#newPostScheduleButton").addClass("disabled");var a=jQuery(this).parent().parent().attr("id"),
b=editorial_calendar_plus.defaultTime;"H:i"!==editorial_calendar_plus.timeFormat&&"G:i"!==editorial_calendar_plus.timeFormat&&(b+=" AM");a={id:0,date:a,formatteddate:editorial_calendar_plus.getDayFromDayId(a).toString(editorial_calendar_plus.previewDateFormat),time:b};editorial_calendar_plus.showForm(a);return!1},addDraft:function(){jQuery("#newPostScheduleButton").addClass("disabled");var a={id:0,date:Date.today(),formatteddate:editorial_calendar_plus.NO_DATE,time:editorial_calendar_plus.NO_DATE,status:"draft"};editorial_calendar_plus.showForm(a);return!1},editPost:function(a){jQuery("#newPostScheduleButton").removeClass("disabled");editorial_calendar_plus.getPost(a,editorial_calendar_plus.showForm);
return!1},savePost:function(a,b,c,d){if("undefined"===typeof a||null===a)a=editorial_calendar_plus.serializePost();if(!a.title||""===a.title)return!1;editorial_calendar_plus.output("savePost("+a.date+", "+a.title+")");jQuery("#edit-slug-buttons").addClass("tiploading");var e=a.time.toUpperCase();"12"===e.slice(0,2)&&"PM"===e.slice(e.length-2,e.length)?a.time="12:"+e.slice(3,5):"12"===e.slice(0,2)&&"AM"===e.slice(a.time.length-2,a.time.length)&&(a.time="00:"+e.slice(3,5));var e=""!==a.time?Date.parse(a.time):Date.parse(editorial_calendar_plus.defaultTime),
f;if(null!==e&&e!==editorial_calendar_plus.NO_DATE){var g=e.format("H:i:s");f=encodeURIComponent(editorial_calendar_plus.getDayFromDayId(a.date).toString(editorial_calendar_plus.wp_dateFormat)+" "+g)}else f=encodeURIComponent(a.date.toString(editorial_calendar_plus.wp_dateFormat+" H:i:s"));g=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_savepost";a="date="+f+"&title="+encodeURIComponent(a.title)+"&content="+encodeURIComponent(a.content)+"&id="+encodeURIComponent(a.id)+"&status="+encodeURIComponent(a.status)+"&orig_status="+encodeURIComponent(a.orig_status);if(null===e||e===editorial_calendar_plus.NO_DATE)a+=
"&date_gmt="+encodeURIComponent("0000-00-00 00:00:00");editorial_calendar_plus.getUrlVars().post_type&&(a+="&post_type="+encodeURIComponent(editorial_calendar_plus.getUrlVars().post_type));c&&(a+="&dopublish="+encodeURIComponent("future"));jQuery.ajax({url:g,type:"POST",processData:!1,data:a,timeout:1E5,dataType:"json",success:function(a){jQuery("#edit-slug-buttons").removeClass("tiploading");jQuery("#editorial_calendar_plus_quickedit").hide();jQuery("#editorial_calendar_plus_scrollable").data("scrollable").getConf().keyboard=!0;if(a.error)return a.error===editorial_calendar_plus.NONCE_ERROR&&
editorial_calendar_plus.showError(editorial_calendar_plus.checksum_error),!1;if(a.post)if(b)window.location=a.post.editlink.replace("&amp;","&");else{var c=a.post.date;a.post.date_gmt===editorial_calendar_plus.NO_DATE&&(c=a.post.date_gmt);a.post.id&&editorial_calendar_plus.removePostItem(c,"post-"+a.post.id);editorial_calendar_plus.addPostItem(a.post,c);editorial_calendar_plus.addPostItemDragAndToolltip(c)}else editorial_calendar_plus.showError("There was an error creating a new post for your blog.");d&&d(a);return!0},error:function(a){jQuery("#edit-slug-buttons").removeClass("tiploading");jQuery("#editorial_calendar_plus_quickedit").hide();
jQuery("#editorial_calendar_plus_scrollable").data("scrollable").getConf().keyboard=!0;editorial_calendar_plus.showError(editorial_calendar_plus.general_error);a.responseText&&editorial_calendar_plus.output("savePost xhr.responseText: "+a.responseText)}});return!1},serializePost:function(){var a={};jQuery("#editorial_calendar_plus_quickedit").find("input, textarea, select").each(function(){a[this.name]=this.value});return a},showForm:function(a){editorial_calendar_plus.resetForm();a.formatteddate===editorial_calendar_plus.NO_DATE||a.date_gmt===editorial_calendar_plus.NO_DATE?jQuery("#timeEditControls").hide():jQuery("#timeEditControls").show();
jQuery("#editorial_calendar_plus_quickedit").center().show();jQuery("#editorial_calendar_plus_scrollable").data("scrollable").getConf().keyboard=!1;a.id?(jQuery("#tooltiptitle").text(sprintf(editorial_calendar_plus.str_edit_post_title,a.typeTitle,editorial_calendar_plus.getDayFromDayId(a.date).toString(editorial_calendar_plus.previewDateFormat))),jQuery("#editorial_calendar_plus-title-new-field").val(a.title),jQuery("#content").val(a.content)):a.formatteddate===editorial_calendar_plus.NO_DATE?jQuery("#tooltiptitle").text(editorial_calendar_plus.str_newdraft_title):jQuery("#tooltiptitle").text(editorial_calendar_plus.str_newpost_title+a.formatteddate);"future"===
a.status&&jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_update);a.status?(jQuery("#editorial_calendar_plus-status").val(a.status),editorial_calendar_plus.updatePublishButton()):(0!=jQuery("#editorial_calendar_plus-status option[value="+editorial_calendar_plus.defaultStatus+"]").length?jQuery("#editorial_calendar_plus-status").val(editorial_calendar_plus.defaultStatus):jQuery("#editorial_calendar_plus-status").val("draft"),jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_save));a.status&&"draft"!==a.status&&"future"!==a.status&&"pending"!==a.status&&(jQuery("#editorial_calendar_plus-status").attr("disabled","true"),jQuery("#editorial_calendar_plus-status").append('<option class="temp" value="'+
a.status+'">'+a.status+"</option>"),jQuery("#editorial_calendar_plus-status").val(a.status));a.formatteddate!==editorial_calendar_plus.NO_DATE&&-1===editorial_calendar_plus.getDayFromDayId(a.date).compareTo(Date.today())&&jQuery("#editorial_calendar_plus-status").attr("disabled","true");var b=a.time;jQuery("#editorial_calendar_plus-time").val(b);jQuery("#editorial_calendar_plus-date").val(a.date);jQuery("#editorial_calendar_plus-id").val(a.id);jQuery("#editorial_calendar_plus-title-new-field").focus();jQuery("#editorial_calendar_plus-title-new-field").select()},hideForm:function(){jQuery("#editorial_calendar_plus_quickedit").hide();jQuery("#editorial_calendar_plus_scrollable").data("scrollable").getConf().keyboard=
!0;editorial_calendar_plus.resetForm()},resetForm:function(){jQuery("#editorial_calendar_plus_quickedit").find("input, textarea, select").each(function(){this.value=""});jQuery("#editorial_calendar_plus-status").removeAttr("disabled");jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_publish);jQuery("#tooltiptitle").text("");jQuery("#editorial_calendar_plus-status").removeAttr("disabled");jQuery("#editorial_calendar_plus-status .temp").remove()},createPostItem:function(a,b){editorial_calendar_plus.posts[b]||(editorial_calendar_plus.posts[b]=[]);editorial_calendar_plus.posts[b][editorial_calendar_plus.posts[b].length]=a;return editorial_calendar_plus.getPostItemString(a)},findPostForId:function(a,
b){if(editorial_calendar_plus.posts[a])for(var c=0;c<editorial_calendar_plus.posts[a].length;c++)if(editorial_calendar_plus.posts[a][c]&&"post-"+editorial_calendar_plus.posts[a][c].id===b)return editorial_calendar_plus.posts[a][c];return null},removePostItem:function(a,b){editorial_calendar_plus.output("removePostItem("+a+", "+b+")");if(editorial_calendar_plus.findPostForId(a,b))for(var c=0;c<editorial_calendar_plus.posts[a].length;c++)editorial_calendar_plus.posts[a][c]&&"post-"+editorial_calendar_plus.posts[a][c].id===b&&(editorial_calendar_plus.posts[a][c]=null);jQuery("#"+b).remove()},getPostItems:function(a){var b="";if(editorial_calendar_plus.posts[a]){var c=editorial_calendar_plus.posts[a];if(50>c.length)for(a=0;a<c.length;a++)c[a]&&
(b+=editorial_calendar_plus.getPostItemString(c[a]));else editorial_calendar_plus.addPostItems(a,0,50)}return b},addPostItems:function(a,b,c){var d=editorial_calendar_plus.posts[a],e="";setTimeout(function(){for(var f=b;f<b+c&&f<d.length;f++)d[f]&&(e+=editorial_calendar_plus.getPostItemString(d[f]));jQuery("#"+a+" ul").append(e);b+c<d.length&&editorial_calendar_plus.addPostItems(a,b+c,50)},100)},showActionLinks:function(a){editorial_calendar_plus.actionTimer&&clearTimeout(editorial_calendar_plus.actionTimer);var b=editorial_calendar_plus.findPostForId(jQuery("#"+a).parent().parent().parent().attr("id"),a);if(!editorial_calendar_plus.inDrag&&editorial_calendar_plus.isPostEditable(b)){var c=
jQuery("#"+a+" > div.postactions");editorial_calendar_plus.actionLinksElem&&editorial_calendar_plus.actionLinksElem.get(0)!==c.get(0)&&editorial_calendar_plus.actionLinksElem.slideUp();editorial_calendar_plus.actionLinksElem=c;editorial_calendar_plus.actionTimer=setTimeout(function(){c.slideDown();if(c.parent().position().top+c.parent().height()>c.parent().parent().height()){var b=jQuery("#"+a+" > div.postactions").parent().parent();b.scrollTop(b.scrollTop()+45)}},250)}},hideActionLinks:function(a){editorial_calendar_plus.actionTimer&&clearTimeout(editorial_calendar_plus.actionTimer);editorial_calendar_plus.actionTimer=setTimeout(function(){jQuery("#"+
a+" > div.postactions").slideUp();editorial_calendar_plus.actionLinksElem=null},1E3)},isPostMovable:function(a){return a.editlink&&"publish"!==a.status},isPostEditable:function(a){return a.editlink},getPostEditableClass:function(a){return a.editlink?"":"readonly"},getPostItemString:function(a){var b=a.title;""===b&&(b="[No Title]");editorial_calendar_plus.statusPref&&("draft"===a.status&&"1"===a.sticky?b+=editorial_calendar_plus.str_draft_sticky:"pending"===a.status&&"1"===a.sticky?b+=editorial_calendar_plus.str_pending_sticky:"1"===a.sticky?b+=editorial_calendar_plus.str_sticky:"pending"===
a.status?b+=editorial_calendar_plus.str_pending:"draft"===a.status?b+=editorial_calendar_plus.str_draft:"publish"!==a.status&&"future"!==a.status&&"pending"!==a.status&&(b+=" ["+a.status+"]"));editorial_calendar_plus.timePref&&(b='<span class="posttime">'+a.formattedtime+"</span> "+b);editorial_calendar_plus.authorPref&&(b=sprintf(editorial_calendar_plus.str_by,b,'<span class="postauthor">'+a.author+"</span>"));return editorial_calendar_plus.isPostMovable(a)?"<li onmouseover=\"editorial_calendar_plus.showActionLinks('post-"+a.id+"');\" onmouseout=\"editorial_calendar_plus.hideActionLinks('post-"+a.id+'\');" id="post-'+a.id+'" class="post '+
a.status+" "+editorial_calendar_plus.getPostEditableClass(a)+a.slugs+'"><div class="postlink "><span>'+b+'</span></div><div class="postactions"><a href="'+a.editlink+'">'+editorial_calendar_plus.str_edit+'</a> | <a href="#" onclick="editorial_calendar_plus.editPost('+a.id+'); return false;">'+editorial_calendar_plus.str_quick_edit+'</a> | <a href="'+a.dellink+'" onclick="return editorial_calendar_plus.confirmDelete(\''+a.title+"');\">"+editorial_calendar_plus.str_del+'</a> | <a href="'+a.permalink+'">'+editorial_calendar_plus.str_view+"</a></div></li>":"<li onmouseover=\"editorial_calendar_plus.showActionLinks('post-"+a.id+"');\" onmouseout=\"editorial_calendar_plus.hideActionLinks('post-"+
a.id+'\');" id="post-'+a.id+'" class="post '+a.status+" "+editorial_calendar_plus.getPostEditableClass(a)+'"><div class="postlink "><span>'+b+'</span></div><div class="postactions"><a href="'+a.editlink+'">'+editorial_calendar_plus.str_republish+'</a> | <a href="'+a.permalink+'">'+editorial_calendar_plus.str_view+"</a></div></li>"},setClassforToday:function(){jQuery("#"+Date.today().toString(editorial_calendar_plus.internalDateFormat)).addClass("today")},getCalHeight:function(){var a=jQuery(window).height()-jQuery("#footer").height()-jQuery("#wphead").height()-150;return Math.max(a,
500)},move:function(a,b,c){if(!jQuery("#editorial_calendar_plus_quickedit").is(":visible")){editorial_calendar_plus.currentDirection!==b&&(editorial_calendar_plus._wDate=b?editorial_calendar_plus._wDate.add(7*(editorial_calendar_plus.weeksPref+7)).days():editorial_calendar_plus._wDate.add(-(7*(editorial_calendar_plus.weeksPref+7))).days(),editorial_calendar_plus.steps=0,editorial_calendar_plus.moveDate=editorial_calendar_plus._wDate);editorial_calendar_plus.currentDirection=b;var d;if(b)for(d=0;d<a;d++)jQuery("#cal > div:first").remove(),editorial_calendar_plus.createRow(jQuery("#cal"),!0),editorial_calendar_plus._wDate.add(7).days();else for(d=0;d<a;d++)jQuery("#cal > div:last").remove(),editorial_calendar_plus.createRow(jQuery("#cal"),!1),editorial_calendar_plus._wDate.add(-7).days();
editorial_calendar_plus.alignCal();editorial_calendar_plus.setClassforToday();editorial_calendar_plus.setDateLabel();editorial_calendar_plus.steps+=a;editorial_calendar_plus.tID?clearTimeout(editorial_calendar_plus.tID):editorial_calendar_plus.moveDate=editorial_calendar_plus._wDate;editorial_calendar_plus.tID=setTimeout(function(){b?editorial_calendar_plus.getPosts(editorial_calendar_plus._wDate.clone().add(-7*(editorial_calendar_plus.steps+1)).days(),editorial_calendar_plus._wDate.clone(),c):editorial_calendar_plus.getPosts(editorial_calendar_plus._wDate.clone(),editorial_calendar_plus._wDate.clone().add(7*(editorial_calendar_plus.steps+1)).days(),c);editorial_calendar_plus.steps=0;editorial_calendar_plus.tID=null;editorial_calendar_plus.moveDate=editorial_calendar_plus._wDate},1E3);b?jQuery.cookie("editorial_calendar_plus_date",editorial_calendar_plus._wDate.clone().add(-(editorial_calendar_plus.weeksPref+4)).weeks().toString("yyyy-dd-MM")):
jQuery.cookie("editorial_calendar_plus_date",editorial_calendar_plus._wDate.clone().add(3).weeks().toString("yyyy-dd-MM"))}},getDayFromDayId:function(a){return Date.parseExact(a.substring(2,4)+"/"+a.substring(0,2)+"/"+a.substring(4),"MM/dd/yyyy")},setDateLabel:function(a){var b=jQuery("#editorial_calendar_plus_scrollable").scrollable().getVisibleItems();a=editorial_calendar_plus.getDayFromDayId(b.eq(0).children(".editorial_calendar_plus_row").children(".day:first").attr("id"));b=editorial_calendar_plus.getDayFromDayId(b.eq(editorial_calendar_plus.weeksPref-1).children(".editorial_calendar_plus_row").children(".day:last").attr("id"));jQuery("#currentRange").text(editorial_calendar_plus.chineseAposWorkaround(a.toString(Date.CultureInfo.formatPatterns.yearMonth))+
" - "+editorial_calendar_plus.chineseAposWorkaround(b.toString(Date.CultureInfo.formatPatterns.yearMonth)))},nextStartOfWeek:function(a){a=a.clone();if(null===editorial_calendar_plus.startOfWeek)if(editorial_calendar_plus.locale){var b=editorial_calendar_plus.locale.toUpperCase();editorial_calendar_plus.endsWith(b,"AS")||editorial_calendar_plus.endsWith(b,"AZ")||editorial_calendar_plus.endsWith(b,"BW")||editorial_calendar_plus.endsWith(b,"CA")||editorial_calendar_plus.endsWith(b,"CN")||editorial_calendar_plus.endsWith(b,"FO")||editorial_calendar_plus.endsWith(b,"GB")||editorial_calendar_plus.endsWith(b,"GE")||editorial_calendar_plus.endsWith(b,"GL")||editorial_calendar_plus.endsWith(b,"GU")||editorial_calendar_plus.endsWith(b,"HK")||editorial_calendar_plus.endsWith(b,"IE")||editorial_calendar_plus.endsWith(b,
"IL")||editorial_calendar_plus.endsWith(b,"IN")||editorial_calendar_plus.endsWith(b,"IS")||editorial_calendar_plus.endsWith(b,"JM")||editorial_calendar_plus.endsWith(b,"JP")||editorial_calendar_plus.endsWith(b,"KG")||editorial_calendar_plus.endsWith(b,"KR")||editorial_calendar_plus.endsWith(b,"LA")||editorial_calendar_plus.endsWith(b,"MH")||editorial_calendar_plus.endsWith(b,"MN")||editorial_calendar_plus.endsWith(b,"MO")||editorial_calendar_plus.endsWith(b,"MP")||editorial_calendar_plus.endsWith(b,"MT")||editorial_calendar_plus.endsWith(b,"NZ")||editorial_calendar_plus.endsWith(b,"PH")||editorial_calendar_plus.endsWith(b,"PK")||editorial_calendar_plus.endsWith(b,"SG")||editorial_calendar_plus.endsWith(b,"SY")||editorial_calendar_plus.endsWith(b,"TH")||editorial_calendar_plus.endsWith(b,"TT")||editorial_calendar_plus.endsWith(b,"TW")||editorial_calendar_plus.endsWith(b,
"UM")||editorial_calendar_plus.endsWith(b,"US")||editorial_calendar_plus.endsWith(b,"UZ")||editorial_calendar_plus.endsWith(b,"VI")||editorial_calendar_plus.endsWith(b,"ZW")?editorial_calendar_plus.startOfWeek=0:editorial_calendar_plus.endsWith(b,"MV")?editorial_calendar_plus.startOfWeek=5:editorial_calendar_plus.endsWith(b,"AF")||editorial_calendar_plus.endsWith(b,"BH")||editorial_calendar_plus.endsWith(b,"DJ")||editorial_calendar_plus.endsWith(b,"DZ")||editorial_calendar_plus.endsWith(b,"EG")||editorial_calendar_plus.endsWith(b,"ER")||editorial_calendar_plus.endsWith(b,"ET")||editorial_calendar_plus.endsWith(b,"IQ")||editorial_calendar_plus.endsWith(b,"IR")||editorial_calendar_plus.endsWith(b,"JO")||editorial_calendar_plus.endsWith(b,"KE")||editorial_calendar_plus.endsWith(b,"KW")||editorial_calendar_plus.endsWith(b,"LY")||editorial_calendar_plus.endsWith(b,"MA")||
editorial_calendar_plus.endsWith(b,"OM")||editorial_calendar_plus.endsWith(b,"QA")||editorial_calendar_plus.endsWith(b,"SA")||editorial_calendar_plus.endsWith(b,"SD")||editorial_calendar_plus.endsWith(b,"SO")||editorial_calendar_plus.endsWith(b,"TN")||editorial_calendar_plus.endsWith(b,"YE")?editorial_calendar_plus.startOfWeek=6:editorial_calendar_plus.startOfWeek=1}else editorial_calendar_plus.startOfWeek=0;return a.next().sunday().add(editorial_calendar_plus.startOfWeek).days()},endsWith:function(a,b){return a.match(b+"$")===b},moveTo:function(a){editorial_calendar_plus.isMoving=!0;jQuery("#cal").empty();jQuery.cookie("editorial_calendar_plus_date",a.toString("yyyy-dd-MM"));editorial_calendar_plus._wDate=editorial_calendar_plus.nextStartOfWeek(a).add(-21).days();
editorial_calendar_plus.currentDirection=!0;a=editorial_calendar_plus.weeksPref+6;for(var b=0;b<a;b++)editorial_calendar_plus.createRow(jQuery("#cal"),!0),editorial_calendar_plus._wDate.add(7).days();editorial_calendar_plus.alignCal();jQuery("#editorial_calendar_plus_scrollable").scrollable().move(2);editorial_calendar_plus.setDateLabel();editorial_calendar_plus.setClassforToday();editorial_calendar_plus.isMoving=!1},savePosition:function(){var a=jQuery("#editorial_calendar_plus_scrollable"),b=jQuery("#cal_cont");editorial_calendar_plus.position={top:a.offset().top,bottom:a.offset().top+a.height()};jQuery("#editorial_calendar_plus_poststyle").remove();a=jQuery(".rowcont:eq(2) .dayobj:first").height()-jQuery(".rowcont:eq(2) .daylabel:first").height()-
6;jQuery("head").append('<style id="editorial_calendar_plus_poststyle" type="text/css">.ui-draggable-dragging {width: '+(jQuery(".rowcont:eq(2) .day:first").width()-5)+"px;}.postlist {height: "+a+"px;}</style>");jQuery("#draftsdrawer").css("height",b.height());jQuery("#draftsdrawer .day").css("min-height",b.height()-10-jQuery("#draftsdrawer .draftsdrawerheadcont").height())},addFeedbackSection:function(){3<editorial_calendar_plus.visitCount&&editorial_calendar_plus.doFeedbackPref&&jQuery("#editorial_calendar_plus_main_title").after(editorial_calendar_plus.str_feedbackmsg)},doFeedback:function(){jQuery.getScript("http://www.zackgrossbart.com/editorial_calendar_plus/mint/?js",
function(){editorial_calendar_plus.saveFeedbackPref()})},noFeedback:function(){jQuery("#feedbacksection").hide("fast");editorial_calendar_plus.saveFeedbackPref()},saveFeedbackPref:function(){var a=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_saveoptions&dofeedback="+encodeURIComponent("done");jQuery.ajax({url:a,type:"POST",processData:!1,timeout:1E5,dataType:"text",success:function(a){jQuery("#feedbacksection").html(editorial_calendar_plus.str_feedbackdone);setTimeout(function(){jQuery("#feedbacksection").hide("slow")},5E3)},error:function(a){editorial_calendar_plus.showError(editorial_calendar_plus.general_error);
a.responseText&&editorial_calendar_plus.output("saveOptions xhr.responseText: "+a.responseText)}})},updatePublishButton:function(){"future"===jQuery("#editorial_calendar_plus-status").val()&&jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_publish);"pending"===jQuery("#editorial_calendar_plus-status").val()?jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_review):jQuery("#newPostScheduleButton").text(editorial_calendar_plus.str_save)},changeDate:function(a,b,c){editorial_calendar_plus.output("changeDate("+a+", "+b+")");var d=a===editorial_calendar_plus.NO_DATE,e=b.date_gmt===editorial_calendar_plus.NO_DATE,f=d?"0000-00-00":
editorial_calendar_plus.getDayFromDayId(a).toString(editorial_calendar_plus.wp_dateFormat),g=e?b.date_gmt:editorial_calendar_plus.getDayFromDayId(b.date).toString(editorial_calendar_plus.wp_dateFormat);d&&(b.status="draft");f=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_changedate&postid="+b.id+"&postStatus="+b.status+"&newdate="+f+"&olddate="+g;jQuery("#post-"+b.id).addClass("loadingclass");jQuery.ajax({url:f,type:"POST",processData:!1,timeout:1E5,dataType:"json",success:function(b){editorial_calendar_plus.output("res.post.date="+b.post.date);editorial_calendar_plus.output(b.post);b.error&&(editorial_calendar_plus.removePostItem(a,
"post-"+b.post.id),b.error===editorial_calendar_plus.CONCURRENCY_ERROR?editorial_calendar_plus.displayMessage(editorial_calendar_plus.concurrency_error+"<br />"+b.post.title):b.error===editorial_calendar_plus.PERMISSION_ERROR?editorial_calendar_plus.displayMessage(editorial_calendar_plus.permission_error):b.error===editorial_calendar_plus.NONCE_ERROR&&editorial_calendar_plus.displayMessage(editorial_calendar_plus.checksum_error));var f=d?"00000000":b.post.date,g=e?a:f;editorial_calendar_plus.removePostItem(f,"post-"+b.post.id);editorial_calendar_plus.addPostItem(b.post,g);editorial_calendar_plus.addPostItemDragAndToolltip(g);c&&c(b)},error:function(a,b,c){editorial_calendar_plus.showError(editorial_calendar_plus.general_error);editorial_calendar_plus.output("textStatus: "+
b);editorial_calendar_plus.output("error: "+c);a.responseText&&editorial_calendar_plus.output("changeDate xhr.responseText: "+a.responseText)}})},getPosts:function(a,b,c){b||(b="");editorial_calendar_plus.cacheDates[a]?c&&c():(editorial_calendar_plus.cacheDates[a]=!0,b=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_posts&from="+a.toString("yyyy-MM-dd")+"&to="+b.toString("yyyy-MM-dd"),editorial_calendar_plus.getUrlVars().post_type&&(b+="&post_type="+encodeURIComponent(editorial_calendar_plus.getUrlVars().post_type)),jQuery("#loading").show(),jQuery.ajax({url:b,type:"GET",processData:!1,timeout:1E5,dataType:"text",success:function(b){jQuery("#loading").hide();
var e=null;try{e=JSON.parseIt(b)}catch(f){editorial_calendar_plus.showFatalError(editorial_calendar_plus.str_fatal_parse_error+f.message);window.console&&console.error(f);return}if(e.error)e.error===editorial_calendar_plus.NONCE_ERROR&&editorial_calendar_plus.showError(editorial_calendar_plus.checksum_error);else{for(var g=[],k=e.length;0<=k;k--){var h=e[k];h&&"trash"!==h.status&&(h.date=h.date.replace(h.date.substring(2,3),h.date.substring(2,3).toUpperCase()),"00000000"===a&&(h.date=a),editorial_calendar_plus.removePostItem(h.date,"post-"+h.id),editorial_calendar_plus.addPostItem(h,h.date),g[g.length]=h.date)}setTimeout(function(){jQuery.each(g,
function(a,b){editorial_calendar_plus.addPostItemDragAndToolltip(b)})},300);c&&c(b)}},error:function(a){editorial_calendar_plus.showError(editorial_calendar_plus.general_error);a.responseText&&editorial_calendar_plus.output("getPosts xhr.responseText: "+a.responseText)}}))},getPost:function(a,b){if(0===a)return!1;jQuery("#loading").show();var c=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_getpost&postid="+a;editorial_calendar_plus.getUrlVars().post_type&&(c+="&post_type="+encodeURIComponent(editorial_calendar_plus.getUrlVars().post_type));jQuery.ajax({url:c,type:"GET",processData:!1,timeout:1E5,dataType:"json",success:function(a){jQuery("#loading").hide();
editorial_calendar_plus.output("xhr for getPost returned: "+a);if(a.error)return a.error===editorial_calendar_plus.NONCE_ERROR&&editorial_calendar_plus.showError(editorial_calendar_plus.checksum_error),!1;"function"===typeof b&&b(a.post);return a.post},error:function(a){jQuery("#loading").hide();editorial_calendar_plus.showError(editorial_calendar_plus.general_error);a.responseText&&editorial_calendar_plus.output("getPost xhr.responseText: "+a.responseText);return!1}});return!0},addOptionsSection:function(){var a='<div class="hide-if-no-js screen-meta-toggle" id="screen-options-link-wrap"><a class="show-settings" id="show-editorial_calendar_plus-settings-link" onclick="editorial_calendar_plus.toggleOptions(); return false;" href="#" >'+
editorial_calendar_plus.str_screenoptions+"</a></div>";0===jQuery("#screen-meta-links").length&&jQuery("#screen-meta").after('<div id="screen-meta-links"></div>');jQuery("#screen-meta-links").append(a)},toggleOptions:function(){if(editorial_calendar_plus.helpMeta)jQuery("#contextual-help-wrap").slideUp("fast"),jQuery("#contextual-help-wrap").html(editorial_calendar_plus.helpMeta),editorial_calendar_plus.helpMeta=null,jQuery("#show-editorial_calendar_plus-settings-link").removeClass("screen-meta-active"),jQuery("#contextual-help-link-wrap").css("visibility","");else{editorial_calendar_plus.helpMeta=jQuery("#contextual-help-wrap").html();
for(var a='<div class="metabox-prefs" id="calendar-fields-prefs"><h5>'+editorial_calendar_plus.str_show_opts+'</h5><label for="author-hide"><input type="checkbox" '+editorial_calendar_plus.isPrefChecked(editorial_calendar_plus.authorPref)+'value="true" id="author-hide" name="author-hide" class="hide-column-tog" />'+editorial_calendar_plus.str_opt_author+'</label><label for="status-hide"><input type="checkbox" '+editorial_calendar_plus.isPrefChecked(editorial_calendar_plus.statusPref)+'value="true" id="status-hide" name="status-hide" class="hide-column-tog" />'+editorial_calendar_plus.str_opt_status+'</label><label for="time-hide"><input type="checkbox" '+
editorial_calendar_plus.isPrefChecked(editorial_calendar_plus.timePref)+'value="true" id="time-hide" name="time-hide" class="hide-column-tog" />'+editorial_calendar_plus.str_opt_time+"</label></div>",a=a+('<div class="metabox-prefs"><h5>'+editorial_calendar_plus.str_show_title+'</h5><select id="editorial_calendar_plus_weeks_pref" class="screen-per-page" title="'+editorial_calendar_plus.str_weekstt+'"> '),b=parseInt(editorial_calendar_plus.weeksPref,10),c=1;9>c;c++)a=c===b?a+('<option selected="true">'+c+"</option>"):a+("<option>"+c+"</option>");a+="</select>"+editorial_calendar_plus.str_opt_weeks+"</div>";a+='<br /><button id="editorial_calendar_plus_applyoptions" onclick="editorial_calendar_plus.saveOptions(); return false;" class="save button">'+
editorial_calendar_plus.str_apply+"</button>";jQuery("#contextual-help-wrap").html(a);jQuery("#contextual-help-link-wrap").css("visibility","hidden");jQuery("#contextual-help-wrap").slideDown("normal");jQuery("#screen-meta").show();jQuery("#show-editorial_calendar_plus-settings-link").addClass("screen-meta-active")}},generateColorPicker:function(a,b,c){a='<div id="'+b+'" class="optionscolorrow">'+('<span style="background-color: '+c+';" class="colorlabel"> '+a+"</span> ");var d="lightred orange yellow lightgreen lightblue purple lightgray".split(" ");
editorial_calendar_plus.output("colors.length: "+d.length);for(var e=0;e<d.length;e++)a+='<a href="#" class="optionscolor ',d[e]===c&&(a+="colorselected"),a+='" class='+b+d[e]+'" style="background-color: '+d[e]+"; left: "+(20*e+50)+'px" onclick="editorial_calendar_plus.selectColor(\''+b+"', '"+d[e]+"'); return false;\"></a>";return a+="</div>"},selectColor:function(a,b){editorial_calendar_plus.output("selectColor("+a+", "+b+")");jQuery("#"+a+" .colorlabel").css("background-color",b);jQuery("#"+a+" .colorselected").removeClass("colorselected");jQuery("#"+
a+"value").addClass("colorselected")},isPrefChecked:function(a){return a?' checked="checked" ':""},saveOptions:function(){var a=parseInt(jQuery("#editorial_calendar_plus_weeks_pref").val(),10);if(1>a||8<a)humanMsg.displayMsg(editorial_calendar_plus.str_weekserror);else{var b=editorial_calendar_plus.ajax_url()+"&action=editorial_calendar_plus_saveoptions&weeks="+encodeURIComponent(jQuery("#editorial_calendar_plus_weeks_pref").val());jQuery("#calendar-fields-prefs").find("input, textarea, select").each(function(){b+="&"+encodeURIComponent(this.name)+"="+encodeURIComponent(this.checked)});
jQuery.ajax({url:b,type:"POST",processData:!1,timeout:1E5,dataType:"text",success:function(a){window.location.href=window.location.href},error:function(a){editorial_calendar_plus.showError(editorial_calendar_plus.general_error);a.responseText&&editorial_calendar_plus.output("saveOptions xhr.responseText: "+a.responseText)}})}},output:function(a){window.console&&console.log(a)},showError:function(a){window.console&&console.error(a);editorial_calendar_plus.displayMessage(a)},displayMessage:function(a){humanMsg.displayMsg(a)},getUrlVars:function(){for(var a=[],b,c=window.location.href.slice(window.location.href.indexOf("?")+
1).split("&"),d=0;d<c.length;d++)b=c[d].split("="),a.push(b[0]),a[b[0]]=b[1];return a},showFatalError:function(a){jQuery("#editorial_calendar_plus_main_title").after('<div class="error below-h2" id="message"><p>'+editorial_calendar_plus.str_fatal_error+a+"<br></p></div>");window.console&&console.error(a)},chineseAposWorkaround:function(a){return 0===Date.CultureInfo.name.indexOf("zh")||0===Date.CultureInfo.name.indexOf("ja")?a.replace(/'/g,""):a}};
jQuery.fn.center=function(){this.css("position","absolute");this.css("top",(jQuery(window).height()-this.outerHeight())/2+jQuery(window).scrollTop()+"px");this.css("left",(jQuery(window).width()-this.outerWidth())/2+jQuery(window).scrollLeft()+"px");return this};jQuery(document).ready(function(){try{editorial_calendar_plus.init()}catch(a){editorial_calendar_plus.output("Error loading calendar: "+a),editorial_calendar_plus.showFatalError(a.description)}editorial_calendar_plus.getUrlVars().qunit&&editorial_calendar_plus_test.runTests()});
